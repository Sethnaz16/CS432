<!DOCTYPE html>
<html>
<head>
  <% include ../partials/header.ejs %>
</head>

<body>

  <% include ../partials/nav.ejs %>

<div class="container">
  <div class="row">
     <h2>Add channel</h2>
      <div class="col-md-8">
          <h2><%= global.sources[id].name %></h2>
          <h4><%= global.sources[id].description %></h4>
          <a href="<%= global.sources[id].url %>" target="_blank"><h5><%= global.sources[id].url %></h5></a>
          <h5>Category: <%= global.sources[id].category %></h5>
          <h5>Language: <%= global.sources[id].language %></h5>
          <h5>Country: <%= global.sources[id].country %></h5>

          <a href="#" class="btn btn-primary">Delete</a>
            <h2>Update</h2>
            <form action="/update/cat/0" method="put">
              <div class="form-group">
                <input type="hidden" name="id" value="<%= id %>">
              </div>
              <div class="form-group">
                <label for="name">Name</label>
                <input type="text" class="form-control" name="name" id="name" value="<%= global.sources[id].name %>" aria-describedby="emailHelp">
              </div>
              <div class="form-group">
                <label for="exampleInputEmail1">Website</label>
                <input type="text" class="form-control" id="nputUrl" name="url" value="<%= global.sources[id].url %>">
              </div>
              <div class="form-group">
                <label for="desc">Description</label>
                <textarea class="form-control" id="desc" rows="3" name="desc"><%= global.sources[id].description %></textarea>
              </div>
              <div class="form-group">
                <label for="category">Category</label>
                <select multiple class="form-control" id="category" name="cat">
                  <% 
                  var catSet = new Set();
                  global.sources.forEach(function(item){
                      if(catSet == null) {
                          catSet.add(item.category);
                      } else {
                          if(catSet.has(item.category)){
                              return;
                          } else {
                              catSet.add(item.category);
                          }
                      }
                   %>
                    <option value="<%= item.category %>"><%= item.category %></option>
                  <% } )%>
                </select>
              </div>
              <div class="form-group">
                <label for="lang">Language</label>
                <select class="form-control" id="lang" name="lang">
                  <option value="en">en</option>
                </select>
              </div>
              <div class="form-group">
                <label for="country">Country</label>
                <select class="form-control" id="country" name="country">
                   <% 
                  var catSet = new Set();
                  global.sources.forEach(function(item){
                      if(catSet == null) {
                          catSet.add(item.country);
                      } else {
                          if(catSet.has(item.country)){
                              return;
                          } else {
                              catSet.add(item.country);
                          }
                      }
                   %>
                    <option value="<%= item.country %>"><%= item.country %></option>
                  <% } )%>

                </select>
              </div>
              <button type="submit" class="btn btn-danger">Update</button>
            </form>

      </div>
      <div class="col-md-4">
          <h2>See All News</h2>
          <button class="btn btn-primary" onclick="window.history.back()">Go Back!</button>
      </div>
      
  </div> <!-- row -->
</div>


</body>
</html>


